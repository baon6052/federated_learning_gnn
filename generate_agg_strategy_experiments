import itertools
import json


fixed_params = {
    "num_clients": 10,
    "slice_method": "node_feature",
    "percentage_overlap": 0,
    "model_type": "GAT",
    "epochs_per_client": 10,
    "dataset_name": "Cora",
    "num_rounds": 100,
    "dry_run": True,
    "learning_rate": 0.01,
    "num_hidden_params": 16,
    "num_hidden_layers": 2,
}

aggregation_strategies = [
    "FedAvg",
    "FedProx",
    "FedYogi",
    "FedAdam",
    "FedOpt",
    "FedAdagrad",
]

all_experiments = {}
for aggregation_strategy in aggregation_strategies:
    new_params = fixed_params.copy()
    new_params["aggregation_strategy"] = aggregation_strategy

    all_experiments[f"GAT-aggregation_strategy-{aggregation_strategy}"] = new_params

with open(
    f"experiment_configs/GAT_aggregation_strategy_experiments.json",
    "w",
) as outfile:
    json.dump(all_experiments, outfile, indent=4)
